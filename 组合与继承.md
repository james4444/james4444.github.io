# 设计模式

## 组合与继承


1. 为什么不推荐使用继承

继承是面向对象的四大特性之一，用来表是is-a的关系，可以解决代码复用的问题。虽然继承有诸多作用，但继承层次过深，过复杂，也会影响到代码的可读性、可维护性。在这种情况下，我们应该尽量少用，甚至不用继承

2. 组合比继承有哪些优势

继承主要有三个作用，表是is-a的关系，代码复用，支持多态。而这三个作用都可以通过组合，接口，委托来实现。is-a的关系可以通过接口和组合来实现，代码复用可以通过组合和委托来实现，多态可以通过接口来实现。除此之外，利用组合还能解决层次过深，过复杂的继承关系影响代码可维护性的问题。

利用组合、接口、委托来替代继承的例子：

```
public interface Flyable{
    void fly();
}

public class FlyAbility implements Flyable{
    void fly(){ // ..
    };
}

public class Ostrich implements Tweetable,Egglable{ //接口与组合
    private TweetAbility = new TweetAbility();

    void tweet(){
        TweetAbility.tweet(); //委托
    }
}
```

3. 如何判断使用组合还是继承

尽管我们鼓励多用组合少用继承，但组合也并不是完美的，继承也并非一无是处。如果类之间的继承结构稳定，层次比较浅，结构不复杂，我们就可以大胆的使用继承。反之，我们就尽可能的使用组合来代替继承。除此之外，还有一些特定的设计模式，特殊的场景会固定使用继承或者组合